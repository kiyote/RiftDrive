@page "/user/profile"
@page "/user/profile/{UserId}"
@inherits ProfilePageBase
@layout MainLayout

@if (User == default)
{
    <span>Loading ...</span>
}
else
{
    <div class="container">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th colspan="2">
                        @User.Name
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="2">
                        @if (!string.IsNullOrWhiteSpace(User.AvatarUrl))
                        {
                            <img src=@User.AvatarUrl />
                        }
                    </td>
                </tr>
                <tr>
                    <td>User Id:</td>
                    <td>@User.Id.Value</td>
                </tr>
                <tr>
                    <td>Last Login:</td>
                    <td>@FormatDate(User.LastLogin)</td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        @if (IsTheAuthenticatedUser)
                        {
                            if (ChangingAvatar)
                            {
                                <input type="file" onchange="@UploadFile" ref="FileUploadRef" />
                            }
                            else
                            {
                                <button type="button" class="btn btn-primary" onclick=@ChangeAvatarClicked>Change Avatar</button>
                            }
                        }
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
}
